case 'remini': case 'hd': case 'enhanced': {
 let mediaMessage = m.quoted || m;
 let mime = (mediaMessage.msg || mediaMessage).mimetype || '';

 if (!mime.startsWith('image/') && !mime.startsWith('video/')) return reply('❌ Kirim atau reply gambar/video dengan .remini');

 try {
 let media = await conn.downloadAndSaveMediaMessage(mediaMessage);
 let imageUrl = '';

 if (mime.startsWith('video/')) {
 let ffmpeg = require('fluent-ffmpeg');
 let outputImage = media.replace('.mp4', '.jpg');

 await new Promise((resolve, reject) => {
 ffmpeg(media)
 .screenshots({ count: 1, folder: './', filename: outputImage })
 .on('end', resolve)
 .on('error', reject);
 });

 imageUrl = await toCatBoxMoe(outputImage);
 } else {
 imageUrl = await toCatBoxMoe(media);
 }

 if (!imageUrl) return reply('❌ Gagal upload media!');

 let apiUrl = `https://fastrestapis.fasturl.cloud/aiimage/imgunblur?url=${encodeURIComponent(imageUrl)}`;
 let response = await fetch(apiUrl);
 let buffer = await response.buffer();

 await conn.sendMessage(m.chat, { image: buffer, caption: '✅ Ini hasil peningkatan kualitas gambar!' }, { quoted: m });
 } catch (err) {
 console.error(err);
 reply('❌ Terjadi kesalahan saat memproses media!');
 }
}
break